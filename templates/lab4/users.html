{% extends "base.html" %}

{% block lab %}Лабораторная работа 4{% endblock %}

{% block main %}
    <h1>Список пользователей</h1>
    
    <div style="margin-bottom: 20px;">
        <p>Добро пожаловать, {{ current_user.name }} ({{ current_user.login }})!</p>
    </div>

    <table border="1" style="border-collapse: collapse; width: 100%;">
        <thead>
            <tr>
                <th>Имя</th>
                <th>Логин</th>
                <th>Пол</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
            <tr>
                <td>{{ user.name }}</td>
                <td>{{ user.login }}</td>
                <td>{{ 'Мужской' if user.gender == 'male' else 'Женский' }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <div style="margin-top: 30px;">
        <h3>Действия:</h3>
        <form action="/lab4/users/edit" method="get" style="display: inline;">
            <button type="submit">Редактировать мои данные</button>
        </form>
        
        <form action="/lab4/users/delete" method="post" style="display: inline; margin-left: 10px;">
            <button type="submit" onclick="return confirm('Вы уверены, что хотите удалить свой аккаунт?')">
                Удалить мой аккаунт
            </button>
        </form>
    </div>

    <div style="margin-top: 30px;">
        <a href="/lab4/">Вернуться к лабораторной работе 4</a>
    </div>
{% endblock %}